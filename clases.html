<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clases — COHAB BJJ | San Carlos de Apoquindo</title>
  <meta name="theme-color" content="#dc2626">
  <meta name="description" content="Clases de Brazilian Jiu-Jitsu (Gi y NoGi) y Open Mat en COHAB BJJ, San Carlos de Apoquindo (Las Condes).">
  <link rel="icon" type="image/png" href="img/logo_cohab.png">
  <link rel="apple-touch-icon" href="img/logo_cohab.png">
  <link rel="stylesheet" href="css/styles.css?v=14">
</head>
<body class="marketing">
  <nav class="navbar" role="navigation" aria-label="Navegación principal">
    <div class="container">
      <a href="index.html" aria-label="Ir a Inicio" style="display:flex; align-items:center;  text-decoration:none;">
        <img src="img/logo_cohab.svg" alt="COHAB BJJ" class="logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDIwMCAxMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiMwMDAwMDAiIHJ4PSI4Ii8+PHRleHQgeD0iMTAwIiB5PSI3MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtZmFtaWx5PSJBcmlhbCBCbGFjaywgc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjkwMCIgZm9udC1zaXplPSIzNiIgbGV0dGVyLXNwYWNpbmc9IjJweCI+Q09IQUI8L3RleHQ+PC9zdmc+'">
        
      </a>

      <ul class="nav-links" aria-label="Secciones">
        <li><a href="index.html">Inicio</a></li>
        <li><a href="clases.html" class="active">Clases</a></li>
        <li><a href="metodologia.html">Metodología</a></li>
        <li><a href="comunidad.html">Comunidad</a></li>
        <li><a href="horarios.html">Horarios</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>

      <div class="site-actions" aria-label="Acciones">
        <a class="btn btn-primary btn-small" href="contacto.html">Empieza a entrenar</a>
        <a class="btn btn-secondary btn-small" href="login.html">Ingresar</a>
        <button class="marketing-menu-btn" type="button" id="menuBtn" aria-label="Abrir menú">MENÚ</button>
      </div>
    </div>
  </nav>

  <div class="marketing-drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>
  <aside class="marketing-drawer" id="drawer" aria-hidden="true" aria-label="Menú">
    <div class="drawer-head">
      <div class="drawer-title">COHAB BJJ</div>
      <button class="drawer-close" type="button" id="drawerClose" aria-label="Cerrar menú">CERRAR</button>
    </div>
    <nav>
      <a href="index.html"><span>Inicio</span><span>›</span></a>
      <a href="clases.html"><span>Clases</span><span>›</span></a>
      <a href="metodologia.html"><span>Metodología</span><span>›</span></a>
      <a href="comunidad.html"><span>Comunidad</span><span>›</span></a>
      <a href="horarios.html"><span>Horarios</span><span>›</span></a>
      <a href="contacto.html"><span>Contacto</span><span>›</span></a>
      <a href="faq.html"><span>Preguntas frecuentes</span><span>›</span></a>
      <a href="ubicacion.html"><span>Ubicación</span><span>›</span></a>
    </nav>
    <div class="drawer-actions">
      <a class="btn btn-primary" href="login.html" style="width:100%; justify-content:center;">Ingresar</a>
    </div>
  </aside>

  <main class="marketing-main">
    <div class="marketing-wrap">
      <section class="marketing-hero" aria-label="Intro Clases">
        <div class="hero-grid">
          <div>
            <h1>Clases con estructura (Gi / NoGi / Open Mat).</h1>
            <p class="hero-sub">
              Para adultos y jóvenes: principiantes e intermedios. La prioridad es entrenar con método, seguridad y constancia,
              dentro de una comunidad que transforma la rutina.
            </p>
            <div class="hero-ctas">
              <a class="btn btn-secondary" href="horarios.html">Ver horarios</a>
            </div>
          </div>
          <aside class="hero-aside">
            <div style="margin-bottom: 1.5rem;">
              <p class="aside-title">Oferta principal</p>
              <p class="aside-line"><strong>BJJ (Gi):</strong> técnica, control y detalles</p>
              <p class="aside-line"><strong>BJJ (NoGi):</strong> ritmo, agarres y transición</p>
              <p class="aside-line"><strong>Open Mat:</strong> sparring supervisado</p>
              <p class="aside-line" style="margin-top: 0.85rem; color: rgba(255,255,255,0.72);">
                Si no sabes por dónde empezar, te orientamos según tu nivel y objetivos.
              </p>
            </div>
            
            <!-- Nueva sección: Consulta de estado -->
            <div id="consulta-estado" class="alumno-consulta-card" style="background: rgba(26, 26, 26, 0.6); border: 1px solid rgba(220, 38, 38, 0.3); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
              <div style="text-align: center; margin-bottom: 1rem;">
                <img src="img/monito_kimono.png" alt="Monito con kimono" style="width: 80px; height: auto; display: block; margin: 0 auto; filter: drop-shadow(0 2px 8px rgba(220, 38, 38, 0.3));">
              </div>
              <p class="aside-title" style="margin-bottom: 0.75rem; color: #dc2626; text-align: center;">¿Eres alumno? Consulta tu estado</p>
              <p style="color: rgba(255,255,255,0.85); font-size: 0.9rem; line-height: 1.5; margin-bottom: 1.25rem;">
                Escanea tu código QR o ingresa tu ID para ver el estado de tus pagos y acceder a tu información personal.
              </p>
              
              <!-- Opción 1: Escanear QR -->
              <div style="margin-bottom: 1rem;">
                <button id="scanQRBtn" class="btn btn-secondary" style="width: 100%; justify-content: center; gap: 0.5rem; margin-bottom: 0.75rem;" onclick="toggleQRScanner()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                    <path d="M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 13h1.5v1.5H13V18zm1.5 1.5H16V21h-1.5v-1.5zm3.75-3.75h1.5v1.5h-1.5v-1.5zM19 13h1.5v6H19v-6zm-8.25 3.75h1.5v1.5h-1.5v-1.5zm0-3.75h1.5v1.5h-1.5V13z"/>
                  </svg>
                  <span id="scanQRText">Escanear QR</span>
                </button>
                <div id="qrScannerContainer" style="display: none; margin-top: 0.75rem;">
                  <div id="qrScanningOverlay" style="position: relative; width: 100%; aspect-ratio: 1; background: #000; border-radius: 8px; overflow: hidden;">
                    <video id="qrVideo" style="width: 100%; height: 100%; object-fit: cover; display: block;"></video>
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center;">
                      <div style="width: 200px; height: 200px; border: 3px solid #dc2626; border-radius: 8px; box-shadow: 0 0 0 9999px rgba(0,0,0,0.6);"></div>
                    </div>
                  </div>
                  <canvas id="qrCanvas" style="display: none;"></canvas>
                  <button class="btn btn-secondary" onclick="stopQRScanner()" style="width: 100%; margin-top: 0.5rem;">Detener cámara</button>
                </div>
              </div>
              
              <!-- Opción 2: Ingresar ID manualmente -->
              <div style="margin-bottom: 1rem;">
                <input 
                  type="text" 
                  id="alumnoIdInput" 
                  placeholder="Ingresa tu ID de alumno" 
                  style="width: 100%; padding: 0.75rem; border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; background: rgba(0,0,0,0.3); color: #fff; font-size: 0.9rem; margin-bottom: 0.75rem;"
                  onkeypress="if(event.key === 'Enter') consultarAlumno()"
                >
                <button class="btn btn-primary" onclick="consultarAlumno()" style="width: 100%; justify-content: center;">
                  Consultar estado
                </button>
              </div>
              
              <!-- Link de ayuda -->
              <p style="text-align: center; margin-top: 1rem;">
                <a href="contacto.html" style="color: rgba(220, 38, 38, 0.9); text-decoration: none; font-size: 0.85rem; border-bottom: 1px solid rgba(220, 38, 38, 0.3);">
                  ¿No tienes tu QR? Contáctanos
                </a>
              </p>
            </div>
          </aside>
        </div>
      </section>

      <section class="marketing-section">
        <h2>Brazilian Jiu‑Jitsu (Gi)</h2>
        <p class="lead">Trabajo de agarres, control, presión y técnica. Ideal para construir bases sólidas y progreso visible.</p>
        <div class="card-grid-2">
          <div class="mcard"><h3>Fundamentos</h3><p>Postura, escapes y control: lo que sostiene tu avance.</p></div>
          <div class="mcard"><h3>Progreso con detalle</h3><p>Correcciones finas, hábitos y repetición inteligente.</p></div>
        </div>
        <div class="section-image-wrap" style="margin-top: 1.5rem; max-width: 480px; border-radius: 12px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08); box-shadow: 0 8px 24px rgba(0,0,0,0.3);">
          <img src="img/clases-gi-grappling.png" alt="Entrenamiento BJJ Gi en COHAB" loading="lazy" style="display: block; width: 100%; height: auto; object-fit: cover;">
        </div>
      </section>

      <section class="marketing-section">
        <h2>Brazilian Jiu‑Jitsu (NoGi)</h2>
        <p class="lead">Dinámica, transiciones, control sin kimono. Excelente para ritmo, timing y acondicionamiento específico.</p>
        <div class="card-grid-2">
          <div class="mcard"><h3>Ritmo y transición</h3><p>Entrenas cambios de posición y entradas con intención.</p></div>
          <div class="mcard"><h3>Control bajo presión</h3><p>Aprendes a sostener calma y técnica en movimiento.</p></div>
        </div>
      </section>

      <section class="marketing-section">
        <h2>Open Mat / sparring supervisado</h2>
        <p class="lead">Espacio para aplicar lo aprendido. Cultura de respeto y control: entrenas fuerte, pero entrenas bien.</p>
        <div class="card-grid-2">
          <div class="mcard"><h3>Aplicación real</h3><p>El tatami se convierte en práctica consciente: no hay caos, hay intención.</p></div>
          <div class="mcard"><h3>Convivencia</h3><p>La transformación del entrenamiento se vive: apoyo, respeto y progreso compartido.</p></div>
        </div>
      </section>

      <section class="marketing-section">
        <h2>¿Primera clase?</h2>
        <p class="lead">Te guiamos sin presión. La meta es que te sientas parte y vuelvas a entrenar con constancia.</p>
        <div class="card-grid-2">
          <div class="mcard"><h3>Qué llevar</h3><p>Ropa deportiva cómoda (NoGi) o kimono si tienes. Agua. Actitud: respeto y ganas.</p></div>
          <div class="mcard"><h3>Qué esperar</h3><p>Una clase estructurada, correcciones claras y un ambiente que cuida seguridad y cultura.</p></div>
        </div>
        <div style="margin-top: 1.25rem;">
          <a class="btn btn-primary" href="contacto.html">Empieza a entrenar</a>
        </div>
      </section>
    </div>
  </main>

  <footer class="marketing-footer" role="contentinfo">
    <div class="footer-grid">
      <div>
        <h4>COHAB BJJ</h4>
        <p>San Carlos de Apoquindo, Las Condes</p>
        <p style="color:rgba(255,255,255,0.72);">Disciplina, comunidad y progreso.</p>
      </div>
      <div>
        <h4>Contacto</h4>
        <p>WhatsApp: +56 9 1234 5678</p>
        <p>Email: contacto@cohabbjjscl.cl</p>
        <p>IG: @cohabbjjscl</p>
      </div>
      <div>
        <h4>Ubicación</h4>
        <p>Av. San Carlos de Apoquindo 3450</p>
        <p><a href="ubicacion.html">Cómo llegar</a></p>
      </div>
      <div>
        <h4>Links</h4>
        <p><a href="horarios.html">Horarios</a></p>
        <p><a href="metodologia.html">Metodología</a></p>
        <p><a href="contacto.html">Contacto</a></p>
        <p><a href="login.html">Ingresar</a></p>
      </div>
    </div>
    <div style="max-width:1200px;margin:1.75rem auto 0;padding:0 1rem;color:rgba(255,255,255,0.45);font-size:0.95rem;">
      © 2026 COHAB BJJ — Santiago, Chile
    </div>
  </footer>

  <div class="marketing-cta-bar" aria-label="Acciones rápidas">
    <a class="btn btn-primary" href="contacto.html">Empieza a entrenar</a>
    <a class="btn btn-secondary" href="horarios.html">Ver horarios</a>
  </div>

  <script>
    (function () {
      const menuBtn = document.getElementById('menuBtn');
      const drawer = document.getElementById('drawer');
      const backdrop = document.getElementById('drawerBackdrop');
      const closeBtn = document.getElementById('drawerClose');
      function openDrawer() {
        if (!drawer || !backdrop) return;
        drawer.style.display = 'block';
        backdrop.style.display = 'block';
        drawer.setAttribute('aria-hidden', 'false');
        backdrop.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }
      function closeDrawer() {
        if (!drawer || !backdrop) return;
        drawer.style.display = 'none';
        backdrop.style.display = 'none';
        drawer.setAttribute('aria-hidden', 'true');
        backdrop.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }
      if (menuBtn) menuBtn.addEventListener('click', openDrawer);
      if (closeBtn) closeBtn.addEventListener('click', closeDrawer);
      if (backdrop) backdrop.addEventListener('click', closeDrawer);
      window.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeDrawer(); });
    })();
  </script>
  
  <!-- Script para consulta de alumnos -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>
  <script>
    let qrStream = null;
    let qrScanning = false;
    let qrAnimationFrame = null;
    
    async function toggleQRScanner() {
      const container = document.getElementById('qrScannerContainer');
      const video = document.getElementById('qrVideo');
      const overlay = document.getElementById('qrScanningOverlay');
      const btn = document.getElementById('scanQRBtn');
      const btnText = document.getElementById('scanQRText');
      
      if (qrScanning) {
        stopQRScanner();
        return;
      }
      
      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
        alert('Tu navegador no soporta acceso a la cámara. Por favor, ingresa tu ID manualmente.');
        return;
      }
      
      try {
        qrStream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: 'environment' }
        });
        
        video.srcObject = qrStream;
        video.setAttribute('playsinline', 'true');
        await video.play();
        
        container.style.display = 'block';
        overlay.style.display = 'block';
        qrScanning = true;
        btnText.textContent = 'Escaneando...';
        
        const canvas = document.getElementById('qrCanvas');
        const context = canvas.getContext('2d');
        
        function scanQR() {
          if (!qrScanning) return;
          
          if (video.readyState === video.HAVE_ENOUGH_DATA) {
            canvas.height = video.videoHeight;
            canvas.width = video.videoWidth;
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
            const code = jsQR(imageData.data, imageData.width, imageData.height);
            
            if (code) {
              const url = new URL(code.data);
              const id = url.searchParams.get('id');
              if (id) {
                stopQRScanner();
                window.location.href = `public/alumno.html?id=${id}`;
                return;
              }
            }
          }
          
          qrAnimationFrame = requestAnimationFrame(scanQR);
        }
        
        scanQR();
      } catch (error) {
        console.error('Error accediendo a la cámara:', error);
        alert('No se pudo acceder a la cámara. Por favor, ingresa tu ID manualmente.');
        stopQRScanner();
      }
    }
    
    function stopQRScanner() {
      qrScanning = false;
      if (qrAnimationFrame) {
        cancelAnimationFrame(qrAnimationFrame);
        qrAnimationFrame = null;
      }
      if (qrStream) {
        qrStream.getTracks().forEach(track => track.stop());
        qrStream = null;
      }
      
      const video = document.getElementById('qrVideo');
      const container = document.getElementById('qrScannerContainer');
      const overlay = document.getElementById('qrScanningOverlay');
      const btnText = document.getElementById('scanQRText');
      
      if (video) {
        video.srcObject = null;
        video.pause();
      }
      if (overlay) overlay.style.display = 'none';
      if (container) container.style.display = 'none';
      if (btnText) btnText.textContent = 'Escanear QR';
    }
    
    function consultarAlumno() {
      const input = document.getElementById('alumnoIdInput');
      const id = input.value.trim();
      
      if (!id) {
        alert('Por favor ingresa tu ID de alumno');
        return;
      }
      
      window.location.href = `public/alumno.html?id=${id}`;
    }
    
    // Limpiar al salir de la página
    window.addEventListener('beforeunload', stopQRScanner);
  </script>
  <!-- WhatsApp Flotante -->
  <a href="https://wa.me/56912345678?text=Hola!%20Quiero%20información%20sobre%20clases%20de%20BJJ"
     class="whatsapp-float"
     target="_blank"
     rel="noopener noreferrer"
     aria-label="Contactar por WhatsApp">
    <svg viewBox="0 0 32 32" width="28" height="28" fill="currentColor">
      <path d="M16 0C7.163 0 0 7.163 0 16c0 2.825.736 5.48 2.024 7.792L.672 30.328l6.688-1.76C9.632 30.264 12.696 32 16 32c8.837 0 16-7.163 16-16S24.837 0 16 0zm0 29.36c-2.608 0-5.04-.752-7.096-2.04l-.512-.304-5.016 1.32 1.344-4.904-.336-.536C2.768 21.056 2 18.592 2 16 2 8.268 8.268 2 16 2s14 6.268 14 14-6.268 13.36-14 13.36zm7.68-10.016c-.416-.208-2.472-1.224-2.856-1.36-.384-.144-.664-.208-.944.208-.28.416-1.088 1.36-1.328 1.64-.24.28-.488.32-.904.104-.416-.208-1.76-.648-3.352-2.072-1.24-1.104-2.08-2.472-2.32-2.888-.24-.416-.024-.64.184-.848.184-.184.416-.488.624-.728.208-.24.28-.416.416-.696.144-.28.072-.52-.032-.728-.104-.208-.944-2.272-1.296-3.112-.336-.808-.68-.696-.944-.712-.24-.008-.52-.016-.8-.016s-.736.104-1.12.52c-.384.416-1.472 1.44-1.472 3.512s1.504 4.072 1.712 4.352c.208.28 2.944 4.496 7.136 6.304.992.432 1.768.688 2.376.88.992.32 1.896.272 2.608.168.8-.12 2.472-.992 2.816-1.96.344-.968.344-1.792.24-1.96-.096-.176-.368-.28-.784-.488z"/>
    </svg>
    <span>WhatsApp</span>
  </a>


</body>
</html>
